{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAKA,MAAMC,EAAQ,IAAI,E,WAAAC,SAGZC,EAAkBC,KAAKC,MAAMC,aAAaC,QAFd,YAG5BC,EAAgBJ,KAAKC,MAAMC,aAAaC,QAFd,UAG1BE,EAAcN,EAAgBO,OAAOF,GACrCG,EAAoBF,EAAYG,QAAO,CAACC,EAAMC,EAAOC,IAAUA,EAAMC,QAAQH,KAAUC,IACvFG,EAAgB,CACpBC,SAAU,YAYZ,WACE,GAAIT,EACF,IACEU,EAAAC,QAAQC,MAAMJ,GACdN,EAAkBW,KAAIC,IACpBtB,EAAMuB,eAAeD,GAAIE,MAAKC,IAC5B,MAAMC,GAAS,EAAAC,EAAAC,qBAAoBH,GACnC3B,EAAA+B,KAAKC,QAAQC,mBAAmB,YAAaL,EAAO,GACpD,G,CAEJ,MAAOM,GACPC,QAAQC,IAAIF,EAAMG,Q,CACnB,QACCjB,EAAAC,QAAQiB,Q,EAtBdC,GAEAvC,EAAA+B,KAAKS,cAAcC,iBAAiB,SAyBpC,WACI,GAAI/B,EAAa,CACbV,EAAA+B,KAAKC,QAAQU,UAAY,GAC3B,IACAtB,EAAAC,QAAQC,MAAMJ,GACdd,EAAgBmB,KAAIC,IAClBtB,EAAMuB,eAAeD,GAAIE,MAAKC,IAC5B,MAAMC,GAAS,EAAAC,EAAAC,qBAAoBH,GACnC3B,EAAA+B,KAAKC,QAAQC,mBAAmB,YAAaL,EAAO,GACpD,G,CAEJ,MAAOM,GACPC,QAAQC,IAAIF,EAAMG,Q,CACnB,QACCjB,EAAAC,QAAQiB,Q,MAtCdtC,EAAA+B,KAAKY,YAAYF,iBAAiB,SA2ClC,WACI,GAAI/B,EAAa,CACbV,EAAA+B,KAAKC,QAAQU,UAAY,GAC7B,IACEtB,EAAAC,QAAQC,MAAMJ,GACdT,EAAcc,KAAIC,IAChBtB,EAAMuB,eAAeD,GAAIE,MAAKC,IAC5B,MAAMC,GAAS,EAAAC,EAAAC,qBAAoBH,GACnC3B,EAAA+B,KAAKC,QAAQC,mBAAmB,YAAaL,EAAO,GACpD,G,CAEJ,MAAOM,GACPC,QAAQC,IAAIF,EAAMG,Q,CACnB,QACCjB,EAAAC,QAAQiB,Q,MAvDT1B,EAAkBgC,QACrB5C,EAAA+B,KAAKc,cAAcC,UAAUR,OAAO,a,iCCjBtC,MAAMS,EAAaC,SAASC,cAAc,YACpCC,EAAWF,SAASC,cAAc,UAWxCF,EAAWN,iBAAiB,SAT5B,WACIM,EAAWD,UAAUK,IAAI,aACzBD,EAASJ,UAAUR,OAAO,Y,IAQ9BY,EAAST,iBAAiB,SAN1B,WACIS,EAASJ,UAAUK,IAAI,aACvBJ,EAAWD,UAAUR,OAAO,Y,IAKhC,MAAMc,EAAOJ,SAASC,cAAc,UAgBpC,WACE,IAAK1C,aAAaC,QALT,QAML,OAEFD,aAAaC,QARN,QAHP4C,EAAKN,UAAUK,IAAI,SACnBC,EAAKC,MAAMC,gBAAkB,qB,CAIjCC,GAYA,WACE,IAAKhD,aAAaC,QAdR,SAeR,OAxBI4C,EAAKC,MAAMC,gBAAkB,OAC7BF,EAAKN,UAAUR,OAAO,SAyB1B/B,aAAaC,QAjBL,Q,CAWZgD","sources":["src/js/render-library.js","src/library.js"],"sourcesContent":["import { refs } from './refs';\nimport { createLibraryMarkup } from './create-library-markup';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport FetchFilms from './FetchApi';\n\nconst fetch = new FetchFilms();\nconst LOCAL_STORAGE_KEY_WATCHED = 'watched';\nconst LOCAL_STORAGE_KEY_QUEUE = 'queue';\nconst saveDataWatched = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_WATCHED));\nconst saveDataQueue = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_QUEUE));\nconst saveDataAll = saveDataWatched.concat(saveDataQueue);\nconst savedDataAllQniue = saveDataAll.filter((data, index, array) => array.indexOf(data) === index);\nconst loadingParams = {\n  svgColor: '#FF6B08',\n};\n\ninit();\n\nrefs.btnLibWatched.addEventListener('click', onWatchedClick);\nrefs.btnLibQueue.addEventListener('click', onQueueClick);\n\nif (!savedDataAllQniue.length) {\n  refs.blockEmptyLib.classList.remove('is-hidden');\n}\n\nfunction init() {\n  if (saveDataAll) {\n    try {\n      Loading.pulse(loadingParams);\n      savedDataAllQniue.map(id => {\n        fetch.getFilmDetails(id).then(promise => {\n          const markup = createLibraryMarkup(promise);\n          refs.listLib.insertAdjacentHTML('beforeend', markup);\n        });\n      });\n    } catch (error) {\n      console.log(error.message);\n    } finally {\n      Loading.remove();\n    }\n  }\n}\n\nfunction onWatchedClick() {\n    if (saveDataAll) {\n        refs.listLib.innerHTML = '';\n      try {\n      Loading.pulse(loadingParams);\n      saveDataWatched.map(id => {\n        fetch.getFilmDetails(id).then(promise => {\n          const markup = createLibraryMarkup(promise);\n          refs.listLib.insertAdjacentHTML('beforeend', markup);\n        });\n      });\n    } catch (error) {\n      console.log(error.message);\n    } finally {\n      Loading.remove();\n    }\n  }\n}\n\nfunction onQueueClick() {\n    if (saveDataAll) {\n        refs.listLib.innerHTML = '';\n    try {\n      Loading.pulse(loadingParams);\n      saveDataQueue.map(id => {\n        fetch.getFilmDetails(id).then(promise => {\n          const markup = createLibraryMarkup(promise);\n          refs.listLib.insertAdjacentHTML('beforeend', markup);\n        });\n      });\n    } catch (error) {\n      console.log(error.message);\n    } finally {\n      Loading.remove();\n    }\n  }\n}\n","import './js/render-library';\nimport './js/btn-back-to-top';\nimport './js/create-library-markup';\nimport './js/modal-main';\n\nconst watchedBtn = document.querySelector('.watched');\nconst queueBtn = document.querySelector('.queue');\n\nfunction onWatched() {\n    watchedBtn.classList.add('js-active');\n    queueBtn.classList.remove('js-active');\n}\nfunction onQueueBtn() {\n    queueBtn.classList.add('js-active');\n    watchedBtn.classList.remove('js-active');\n}\n\nwatchedBtn.addEventListener('click', onWatched);\nqueueBtn.addEventListener('click', onQueueBtn);\nconst body = document.querySelector('.page');\n\n\nfunction addBgc() {\n        body.style.backgroundColor = '#FFF';\n        body.classList.remove('color');\n}\n\nfunction removeBgc() {\n    body.classList.add('color');\n    body.style.backgroundColor = 'rgba(0, 0, 0, 0.74)';\n}\nlet DARK = 'DARK';\nlet LIGHT = 'LIGHT';\ndark();\n\nfunction dark() {\n  if (!localStorage.getItem(DARK)) {\n      return;\n    } \n    localStorage.getItem(DARK);\n    removeBgc();\n};\n\nlight();\n\nfunction light() {\n  if (!localStorage.getItem(LIGHT)) {\n    return;\n    }addBgc();\n    localStorage.getItem(LIGHT);\n};\n\n"],"names":["$krGWQ","parcelRequire","$76d8f5d523e840d5$var$fetch","default","$76d8f5d523e840d5$var$saveDataWatched","JSON","parse","localStorage","getItem","$76d8f5d523e840d5$var$saveDataQueue","$76d8f5d523e840d5$var$saveDataAll","concat","$76d8f5d523e840d5$var$savedDataAllQniue","filter","data","index","array","indexOf","$76d8f5d523e840d5$var$loadingParams","svgColor","$dSs1Y","Loading","pulse","map","id","getFilmDetails","then","promise","markup","$1M7QK","createLibraryMarkup","refs","listLib","insertAdjacentHTML","error","console","log","message","remove","$76d8f5d523e840d5$var$init","btnLibWatched","addEventListener","innerHTML","btnLibQueue","length","blockEmptyLib","classList","$ce3726a01b8ab25a$var$watchedBtn","document","querySelector","$ce3726a01b8ab25a$var$queueBtn","add","$ce3726a01b8ab25a$var$body","style","backgroundColor","$ce3726a01b8ab25a$var$dark","$ce3726a01b8ab25a$var$light"],"version":3,"file":"library.1effde8c.js.map"}