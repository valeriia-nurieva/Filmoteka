{"mappings":"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","sources":["src/js/library/library-style-current-page.js","src/js/library/library-them.js","src/js/render-library.js"],"sourcesContent":["import { refs } from '../refs';\n\nrefs.btnLibWatched.addEventListener('click', onWatched);\nrefs.btnLibQueue.addEventListener('click', onQueueBtn);\n\nfunction onWatched() {\n    refs.btnLibWatched.classList.add('js-active');\n    refs.btnLibQueue.classList.remove('js-active');\n}\nfunction onQueueBtn() {\n    refs.btnLibQueue.classList.add('js-active');\n    refs.btnLibWatched.classList.remove('js-active');\n}","import { refs } from '../refs';\n\nlet DARK = 'DARK';\nlet LIGHT = 'LIGHT';\n\ndark();\nlight();\n\nfunction dark() {\n  if (!localStorage.getItem(DARK)) {\n    return;\n  }\n  localStorage.getItem(DARK);\n  removeBgc();\n}\n\nfunction light() {\n  if (!localStorage.getItem(LIGHT)) {\n    return;\n  }\n  addBgc();\n  localStorage.getItem(LIGHT);\n}\n\nfunction addBgc() {\n  refs.body.style.backgroundColor = '#FFF';\n  refs.body.classList.remove('color');\n}\n\nfunction removeBgc() {\n  refs.body.classList.add('color');\n  refs.body.style.backgroundColor = 'rgba(0, 0, 0, 0.74)';\n}","import { refs } from './refs';\nimport { createLibraryMarkup } from './library/create-library-markup';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport FetchFilms from './FetchApi';\nimport pagination from './pagination';\n\nconst fetch = new FetchFilms();\nconst LOCAL_STORAGE_KEY_WATCHED = 'watched';\nconst LOCAL_STORAGE_KEY_QUEUE = 'queue';\nconst saveDataWatched = JSON.parse(\n  localStorage.getItem(LOCAL_STORAGE_KEY_WATCHED)\n);\nconst saveDataQueue = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_QUEUE));\nconst saveDataAll = saveDataWatched.concat(saveDataQueue);\nconst savedDataAllQniue = saveDataAll.filter(\n  (data, index, array) => array.indexOf(data) === index\n);\nconst loadingParams = {\n  svgColor: '#FF6B08',\n};\nlet page = 1;\nconst perPage = 20;\nconst total_pages = Math.round(savedDataAllQniue.length / perPage);\n\n//—Ç–µ—Å—Ç –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó\n// savedDataAllQniue.push(663712, 663712, 663712 ,663712, 663712, 663712, 663712, 663712, 663712 ,663712, 663712, 663712, 663712, 663712, 663712 ,663712, 663712, 663712, 663712, 663712, 663712 ,663712, 663712, 663712,663712, 663712, 663712 ,663712, 663712, 663712, 663712, 663712, 663712 ,663712, 663712, 663712)\n// const sliced_array = [];\n// for (let i = 0; i < savedDataAllQniue.length; i += perPage) {\n//     sliced_array.push(savedDataAllQniue.slice(i, i + perPage));\n// }\n// console.log(sliced_array);\n\ninit();\npagination(page, total_pages);\n\nrefs.btnLibWatched.addEventListener('click', onWatchedClick);\nrefs.btnLibQueue.addEventListener('click', onQueueClick);\n\nif (!savedDataAllQniue.length) {\n  refs.blockEmptyLib.classList.remove('is-hidden');\n}\n\nexport function init() {\n  if (saveDataAll) {\n    try {\n      Loading.pulse(loadingParams);\n      savedDataAllQniue.map(id => {\n        fetch.getFilmDetails(id).then(promise => {\n          const markup = createLibraryMarkup(promise);\n          refs.listLib.insertAdjacentHTML('beforeend', markup);\n        });\n      });\n    } catch (error) {\n      console.log(error.message);\n    } finally {\n      Loading.remove();\n    }\n  }\n}\n\nconst paginationBox = document.querySelector('.pagination')\npaginationBox.addEventListener('click', handlerPagination);\nfunction handlerPagination(evt) {\n  if (evt.target.nodeName !== 'LI') {\n    return\n  }\n  if (evt.target.textContent === \"ü°∏\") {\n   \n    return;\n  }\n  if (evt.target.textContent === \"ü°∫\") {\n   \n    return;\n  }\n  if (evt.target.textContent === \"...\") {\n    return\n  }\n  let pages = evt.target.textContent\nconsole.log(pages);\n}\n\nfunction onWatchedClick() {\n  if (saveDataAll) {\n      const saveDataWatched = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_WATCHED));\n      refs.listLib.innerHTML = '';\n      try {\n      Loading.pulse(loadingParams);\n      saveDataWatched.map(id => {\n        fetch.getFilmDetails(id).then(promise => {\n          const markup = createLibraryMarkup(promise);\n          refs.listLib.insertAdjacentHTML('beforeend', markup);\n        });\n      });\n    } catch (error) {\n      console.log(error.message);\n    } finally {\n      Loading.remove();\n    }\n  }\n}\n\nfunction onQueueClick() {\n  if (saveDataAll) {\n      const saveDataQueue = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY_QUEUE));\n        refs.listLib.innerHTML = '';\n    try {\n      Loading.pulse(loadingParams);\n      saveDataQueue.map(id => {\n        fetch.getFilmDetails(id).then(promise => {\n          const markup = createLibraryMarkup(promise);\n          refs.listLib.insertAdjacentHTML('beforeend', markup);\n        });\n      });\n    } catch (error) {\n      console.log(error.message);\n    } finally {\n      Loading.remove();\n    }\n  }\n}\n"],"names":["$4Nugj","parcelRequire","refs","btnLibWatched","addEventListener","classList","add","btnLibQueue","remove","$2c3fdad9c12462e2$var$DARK","$2c3fdad9c12462e2$var$LIGHT","localStorage","getItem","body","style","backgroundColor","$2c3fdad9c12462e2$var$dark","$2c3fdad9c12462e2$var$light","$9c5a8c3a213c0f0b$var$fetch","$dTw9X","default","$9c5a8c3a213c0f0b$var$LOCAL_STORAGE_KEY_WATCHED","$9c5a8c3a213c0f0b$var$LOCAL_STORAGE_KEY_QUEUE","$9c5a8c3a213c0f0b$var$saveDataWatched","JSON","parse","$9c5a8c3a213c0f0b$var$saveDataQueue","$9c5a8c3a213c0f0b$var$saveDataAll","concat","$9c5a8c3a213c0f0b$var$savedDataAllQniue","filter","data","index","array","indexOf","$9c5a8c3a213c0f0b$var$loadingParams","svgColor","$9c5a8c3a213c0f0b$var$total_pages","Math","round","length","$7rQOT","Loading","pulse","map","id","getFilmDetails","then","promise","markup","$aTxXG","createLibraryMarkup","listLib","insertAdjacentHTML","error","console","log","message","$9c5a8c3a213c0f0b$export$2cd8252107eb640b","$jcFG7","saveDataWatched1","innerHTML","saveDataQueue1","blockEmptyLib","document","querySelector","evt","target","nodeName","textContent","pages"],"version":3,"file":"library.d3816db5.js.map"}